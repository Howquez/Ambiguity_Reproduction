{
  "hash": "20c68c12bd822ae410e1ab4f99e5c45a",
  "result": {
    "markdown": "# Figures\n\nThis document explains how to reproduce the figures presented in the paper.\n\n## Install Packages\n\nWe install the following packages using the `groundhog` package manager to increase computational reproducibility.\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## Read Data\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Figure 1\n\nTo create @fig-1 (and `fig-2`), we create a wrapper function that we can call several times. As all the other figures presented in this document, @fig-1 consists of three panels, `top`, `left`, and `right` that are relatively similar. We thus, save both space and sources of error by creating a wrapper function `plot_bars()` that creates bar plots and annotates them with test statistics.\n\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Means of ambiguity index b separated by treatments and part 1 and part 2. P-values of Wilcoxon signed-rank test comparing part 1 and 2 directly above the mean values. P-values of Wilcoxon–Mann–Whitney test comparing part 2 of different treatments at the top. Note: ∗p<0.10, ∗∗p<0.05, ∗∗∗p<0.01, ns: not significant](03-figures_files/figure-pdf/fig-1-1.pdf){#fig-1}\n:::\n:::\n\n\n\n## Figure 2\n\nNext, we use the wrapper function again but visualize another outcome using the `response == a` argument.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Means of ambiguity index a separated by treatments and part 1 and part 2. P-values of Wilcoxon signed-rank test comparing part 1 and 2 directly above the mean values. P-values of Wilcoxon–Mann–Whitney test comparing part 2 of different treatments at the top. Note: ∗p<0.10, ∗∗p<0.05, ∗∗∗p<0.01, ns: not significant](03-figures_files/figure-pdf/fig-2-1.pdf){#fig-2}\n:::\n:::\n\n\n\n## Figure 3\n\n@fig-3 also presents three panels. In contrast to @fig-1 and @fig-2, these panels visualize confidence intervals of our estimator of interest: the interaction of `stage` and `surprise` (top panel) as well as the interaction between `stage` and `communication` in the lower two panels.\n\nThe corresponding data stems from many OLS regressions and are computed in for-loops. Even though the code differs slightly, it is very repetitive between the three panels, which is why we only explain the top panel\n\n### Top Panel\n\nBefore calculating the data based on OLS regressions, we specify three different models: `none` represents only treatment variables, `demographics` extends the former by adding demographic variables, and `all` extends the former two by also adding all remaining covariates.\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nNext, we run a nested loop that iterates through all three models and within these models through both ambiguity indices `a` and `b`. From these ols regressions, we compute clustered standard errors using the `{{sandwich}}` and `{{lmtest}}` package. The resuling data is stored in a temporary data.table that is appended to an initially empty data.table called `ci_top`.\n\n\n\n::: {.cell}\n\n:::\n\n\n\nThe result looks as follows. The data.table provides a column for the 2.5% and 97.5% confidence interval, the center of the two, as well as the ols specification as presented in `model` and `outcome`.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n|      2.5 %|    97.5 %|model        |outcome |    center|\n|----------:|---------:|:------------|:-------|---------:|\n| -0.0461365| 0.0608289|none         |a       | 0.0073462|\n| -0.0085981| 0.0374200|none         |b       | 0.0144110|\n| -0.0370710| 0.0733050|demographics |a       | 0.0181170|\n| -0.0071204| 0.0418846|demographics |b       | 0.0173821|\n| -0.0371322| 0.0733663|all          |a       | 0.0181170|\n| -0.0071476| 0.0419118|all          |b       | 0.0173821|\n:::\n:::\n\n\n\nFinally, we plot this data set (`ci_top`) using the `{{ggplot2}}` package. The resulting object is stored as `top` and will be assembled together with the other two panels.\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n### Left Panel\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|      2.5 %|    97.5 %|model        |outcome      |     center|\n|----------:|---------:|:------------|:------------|----------:|\n| -0.1231424| 0.0699195|none         |a (interval) | -0.0266115|\n| -0.1603397| 0.0317751|none         |a (both)     | -0.0642823|\n| -0.0085202| 0.0705807|none         |b (interval) |  0.0310303|\n| -0.0069006| 0.0744238|none         |b (both)     |  0.0337616|\n| -0.1032781| 0.0924975|demographics |a (interval) | -0.0053903|\n| -0.1519774| 0.0393496|demographics |a (both)     | -0.0563139|\n| -0.0106052| 0.0750051|demographics |b (interval) |  0.0321999|\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n### Right Panel\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|      2.5 %|    97.5 %|model        |outcome      |     center|\n|----------:|---------:|:------------|:------------|----------:|\n| -0.0664967| 0.1147544|none         |a (interval) |  0.0241288|\n| -0.0495534| 0.1325661|none         |a (both)     |  0.0415063|\n| -0.0339037| 0.0457592|none         |b (interval) |  0.0059278|\n| -0.0619626| 0.0165198|none         |b (both)     | -0.0227214|\n| -0.0798350| 0.1115715|demographics |a (interval) |  0.0158682|\n| -0.0675663| 0.1267932|demographics |a (both)     |  0.0296134|\n| -0.0490060| 0.0352795|demographics |b (interval) | -0.0068632|\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n### Assemble Top, Left and Right Panels\n\n\nAs before, we use the `{{patchwork}}` package to assmble the plot objects.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Treatment effects of regression equation (1) with dependent variables b and a. Estimators with 95% confidence intervals. The underlying standard errors (“HC1”) are clustered at the individual level and estimated with the R package sandwich (Zeileis, 2004; Zeileis et al., 2020).](03-figures_files/figure-pdf/fig-3-1.pdf){#fig-3}\n:::\n:::\n\n\n\n\n\n## Figure 4\n\nThe process of producing @fig-4 is very similar to the process of @fig-3. The only difference is that we do not loop through the outcomes `a` and `b` but the events' matching probabilities (`E1`, `E2`, `...`, `E23`).\n\nTo loop through these variables, we use a regex (`E\\\\d`) to create a vector called `events`.\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nBecause the process is, from now on, so similar to the process of @fig-3, we do not comment it any further here.\n\n\n### Top Panel\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|      2.5 %|    97.5 %|model        |outcome |     center|\n|----------:|---------:|:------------|:-------|----------:|\n|   4.983983| 10.142448|none         |E1      |   7.563215|\n|   1.600247|  6.299091|none         |E12     |   3.949669|\n|   1.327104|  6.115620|none         |E13     |   3.721362|\n|  -7.842483| -3.429947|none         |E2      |  -5.636215|\n| -12.800137| -7.599836|none         |E23     | -10.199987|\n|  -6.107878| -1.334793|none         |E3      |  -3.721335|\n|   4.421240|  9.844463|demographics |E1      |   7.132852|\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n### Left Panel\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|     2.5 %|    97.5 %|model |outcome        |     center|\n|---------:|---------:|:-----|:--------------|----------:|\n| -6.746653| 1.5693594|none  |E1 (interval)  | -2.5886468|\n| -7.472010| 0.5541086|none  |E1 (both)      | -3.4589505|\n| -7.466795| 0.4839339|none  |E12 (interval) | -3.4914306|\n| -4.297893| 3.4859217|none  |E12 (both)     | -0.4059856|\n| -2.758720| 5.5611888|none  |E13 (interval) |  1.4012346|\n| -6.134510| 2.0764806|none  |E13 (both)     | -2.0290148|\n| -4.899051| 2.4400333|none  |E2 (interval)  | -1.2295086|\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\n### Right Panel\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n|      2.5 %|     97.5 %|model |outcome        |     center|\n|----------:|----------:|:-----|:--------------|----------:|\n| -9.6135941| -0.0515961|none  |E1 (interval)  | -4.8325951|\n| -2.8115517|  7.0630438|none  |E1 (both)      |  2.1257460|\n| -4.0358433|  4.3361386|none  |E12 (interval) |  0.1501477|\n| -0.4741903|  8.1055554|none  |E12 (both)     |  3.8156825|\n| -8.3619000| -0.3107652|none  |E13 (interval) | -4.3363326|\n| -6.0444150|  2.5918118|none  |E13 (both)     | -1.7263016|\n| -1.4998061|  6.0782483|none  |E2 (interval)  |  2.2892211|\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n\n\n### Assemble Top, Left and Right Panels\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Treatment effects of regression equation (1) with matching probabilities for all events as depen- dent variables. Estimators with 95% confidence intervals. The underlying standard errors (“HC1”) are clustered at the individual level and estimated with the R package sandwich (Zeileis, 2004; Zeileis et al., 2020).](03-figures_files/figure-pdf/fig-4-1.pdf){#fig-4}\n:::\n:::\n",
    "supporting": [
      "03-figures_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}